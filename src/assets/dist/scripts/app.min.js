!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.IntentAnalytics=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./counters/GoogleAnalytics"),a=e("./counters/YandexMetrika"),c=function(){function e(){r(this,e),this.defaultOptions()}return i(e,[{key:"defaultOptions",value:function(){this.countersList={},this.actionQueue={}}},{key:"init",value:function(t){for(var n in t)if(t.hasOwnProperty(n)!==!1){var r=t[n],o=e.createCounter(r,n);null!==o&&(this.countersList[n]=o)}}},{key:"addToQueue",value:function(e,t,n){"object"!==o(this.actionQueue[e])&&(this.actionQueue[e]=[]),this.actionQueue[e].push({functionName:t,argument:n})}},{key:"checkUnhandled",value:function(){for(var t in this.actionQueue)if(this.actionQueue.hasOwnProperty(t)&&"object"===o(this.actionQueue[t])&&this.countersList.hasOwnProperty(t)&&null!==this.countersList[t].counter){var n=this.countersList[t],r=!0,i=!1,u=void 0;try{for(var a,c=this.actionQueue[t][Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value,f=l.functionName,s=l.argument;try{n[f](s)}catch(y){e.logError("Exception during queued "+f+" call: "+JSON.stringify(y))}}}catch(p){i=!0,u=p}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw u}}this.actionQueue[t]=!1}}},{key:"track",value:function(t){this.checkUnhandled();for(var n in t)if(t.hasOwnProperty(n)!==!1){var r=t[n];if(null===this.countersList[n].counter)this.addToQueue(n,"track",r);else if(this.countersList.hasOwnProperty(n))try{this.countersList[n].track(r)}catch(o){e.logError("Exception during track call: "+JSON.stringify(o))}}}},{key:"sendVariables",value:function(t){this.checkUnhandled();for(var n in this.countersList)if(this.countersList.hasOwnProperty(n)!==!1){var r=this.countersList[n];null===r.counter&&this.addToQueue(n,"sendVariables",t);try{r.sendVariables(t)}catch(o){e.logError("Exception during sendVariables call: "+JSON.stringify(o))}}}}],[{key:"createCounter",value:function(e,t){switch(t){case"GoogleAnalytics":return new u.GoogleAnalytics(e.javascriptObjectName,e);case"YandexMetrika":return new a.YandexMetrika(e.javascriptObjectName,e);default:return null}}},{key:"logError",value:function(e){"undefined"!=typeof console&&console.log(e)}}]),e}();n.IntentAnalytics=c},{"./counters/GoogleAnalytics":9,"./counters/YandexMetrika":10}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n._iaq=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./counters/CounterGoogleAnalytics"),u=e("./counters/CounterYandexMetrika"),a=e("./counters/CounterPiwik"),c=e("./events/Click"),l=function(){function e(){r(this,e),this.counters=new Map,this.events=new Map,this.moduleMap=new Map,this.moduleMap.set("CounterGoogleAnalytics",i.CounterGoogleAnalytics),this.moduleMap.set("CounterYandexMetrika",u.CounterYandexMetrika),this.moduleMap.set("CounterPiwik",a.CounterPiwik),this.moduleMap.set("Click",c.Click)}return o(e,[{key:"addModule",value:function(e,t){this.moduleMap.set(e,t)}},{key:"addCounter",value:function(e,t,n,r){this.moduleMap.has(t)&&(t=this.moduleMap.get(t),this.counters.set(e,new t(this,n,r)))}},{key:"addEvent",value:function(e,t,n){if(this.moduleMap.has(e)){e=this.moduleMap.get(e);var r=this.events.has(t)?this.events.get(t):[];r.push(new e(this,n)),this.events.set(t,r)}}},{key:"addCounters",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;this.addCounter(u.id,u.jsModule,u.jsObject,u.options)}}catch(a){n=!0,r=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"addEvents",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;this.addEvent(u.jsModule,u.type,u.options)}}catch(a){n=!0,r=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"trigger",value:function(e,t){var n=this.events.has(e)?this.events.get(e):[],r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;c.trigger(t)}}catch(l){o=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}}}]),e}();n._iaq=new l},{"./counters/CounterGoogleAnalytics":5,"./counters/CounterPiwik":7,"./counters/CounterYandexMetrika":8,"./events/Click":11}],3:[function(e,t,n){(function(t){"use strict";var n=e("./IntentAnalytics"),r=e("./UnionAnalytics");t.intentAnalytics=new n.IntentAnalytics,t._iaq=r._iaq}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./IntentAnalytics":1,"./UnionAnalytics":2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.javascriptObjectName=t}return o(e,[{key:"track",value:function(e){}},{key:"sendVariables",value:function(e){}},{key:"counter",get:function(){return e.getCounterObject(this.javascriptObjectName)}}],[{key:"getCounterObject",value:function(e){return window[e]||null}}]),e}();n.AbstractCounter=i},{}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.CounterGoogleAnalytics=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=e("./CounterInterface"),l=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"init",value:function(e){a(Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"type",get:function(){return c.TYPE_GA}}]),t}(c.CounterInterface);n.CounterGoogleAnalytics=l},{"./CounterInterface":6}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,o){r(this,e),this.locator=t,this.jsObject=n,this.rawOptions=o,this.init(o)}return o(e,[{key:"init",value:function(e){}},{key:"type",get:function(){return""}}]),e}(),u="Google Analytics",a="Yandex.Metrika",c="Piwik";n.CounterInterface=i,n.TYPE_GA=u,n.TYPE_YA=a,n.TYPE_PI=c},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.CounterPiwik=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=e("./CounterInterface"),l=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"init",value:function(e){a(Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"type",get:function(){return c.TYPE_PI}}]),t}(c.CounterInterface);n.CounterPiwik=l},{"./CounterInterface":6}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.CounterYandexMetrika=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function f(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=e("./CounterInterface"),l=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"init",value:function(e){a(Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"type",get:function(){return c.TYPE_YA}}]),t}(c.CounterInterface);n.CounterYandexMetrika=l},{"./CounterInterface":6}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.GoogleAnalytics=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./AbstractCounter"),c=e("../IntentAnalytics"),l=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"ga":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this,e,n));return i.trackerName=n.trackerName||"",i}return i(t,e),u(t,[{key:"track",value:function(e){if("undefined"==typeof e.action)return void c.IntentAnalytics.logError("No action supplied for GoogleAnalytics.track: "+JSON.stringify(e));var t=this.trackerSendPrefix+"send";this.counter(t,{hitType:"event",eventCategory:e.category||"common",eventAction:e.action,eventLabel:e.label||void 0,eventValue:e.value||void 0})}},{key:"sendVariables",value:function(e){this.counter(this.trackerSendPrefix+"set",e)}},{key:"trackerSendPrefix",get:function(){return this.trackerName||""}}]),t}(a.AbstractCounter);n.GoogleAnalytics=l},{"../IntentAnalytics":1,"./AbstractCounter":4}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.YandexMetrika=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./AbstractCounter"),c=e("../IntentAnalytics"),l=function(e){function t(e,n){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e,n))}return i(t,e),u(t,[{key:"track",value:function(e){return"undefined"==typeof e.goal?void c.IntentAnalytics.logError("No goal supplied for YandexMetrika.track: "+JSON.stringify(e)):void this.counter.reachGoal(e.goal,e.params||{})}},{key:"sendVariables",value:function(e){this.counter.params(e)}}]),t}(a.AbstractCounter);n.YandexMetrika=l},{"../IntentAnalytics":1,"./AbstractCounter":4}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Click=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function s(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:s(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=e("./EventInterface"),l=e("../counters/CounterInterface"),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"init",value:function(e){var n=this;if(a(Object.getPrototypeOf(t.prototype),"init",this).call(this,e),e.hasOwnProperty("selectors"))for(var r=0;r<e.selectors.length;r++)for(var o=window.document.querySelectorAll(e.selectors[r]),i=0;i<o.length;i++)o[i].addEventListener("click",function(e){return n.eventHandler(e)})}},{key:"eventHandler",value:function(e){this.sendData()}},{key:"trigger",value:function(e){a(Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e),this.sendData()}},{key:"sendData",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.locator.counters.values()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;l.TYPE_GA==i.type&&window[i.jsObject]("send","event","Action","click","Click")}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}}]),t}(c.EventInterface);n.Click=f},{"../counters/CounterInterface":6,"./EventInterface":12}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.locator=t,this.init(n)}return o(e,[{key:"init",value:function(e){}},{key:"trigger",value:function(e){}}]),e}();n.EventInterface=i},{}]},{},[3]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAuanMiLCJqcy9JbnRlbnRBbmFseXRpY3MuanMiLCJqcy9VbmlvbkFuYWx5dGljcy5qcyIsImpzL2FwcC5qcyIsImpzL2NvdW50ZXJzL0Fic3RyYWN0Q291bnRlci5qcyIsImpzL2NvdW50ZXJzL0NvdW50ZXJHb29nbGVBbmFseXRpY3MuanMiLCJqcy9jb3VudGVycy9Db3VudGVySW50ZXJmYWNlLmpzIiwianMvY291bnRlcnMvQ291bnRlclBpd2lrLmpzIiwianMvY291bnRlcnMvQ291bnRlcllhbmRleE1ldHJpa2EuanMiLCJqcy9jb3VudGVycy9Hb29nbGVBbmFseXRpY3MuanMiLCJqcy9jb3VudGVycy9ZYW5kZXhNZXRyaWthLmpzIiwianMvZXZlbnRzL0NsaWNrLmpzIiwianMvZXZlbnRzL0V2ZW50SW50ZXJmYWNlLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiSW50ZW50QW5hbHl0aWNzIiwidW5kZWZpbmVkIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX0dvb2dsZUFuYWx5dGljcyIsIl9ZYW5kZXhNZXRyaWthIiwidGhpcyIsImRlZmF1bHRPcHRpb25zIiwiY291bnRlcnNMaXN0IiwiYWN0aW9uUXVldWUiLCJjb3VudGVyVHlwZSIsImhhc093blByb3BlcnR5IiwiY291bnRlciIsImNvdW50ZXJDbGFzcyIsImNyZWF0ZUNvdW50ZXIiLCJmdW5jdGlvbk5hbWUiLCJhcmd1bWVudCIsInB1c2giLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJxdWV1ZUl0ZW0iLCJsb2dFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnIiLCJjb3VudGVyc0luc3RydWN0aW9ucyIsImNoZWNrVW5oYW5kbGVkIiwiaW5zdHJ1Y3Rpb24iLCJhZGRUb1F1ZXVlIiwidHJhY2siLCJ2YXJpYWJsZXMiLCJzZW5kVmFyaWFibGVzIiwiR29vZ2xlQW5hbHl0aWNzIiwiamF2YXNjcmlwdE9iamVjdE5hbWUiLCJZYW5kZXhNZXRyaWthIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCIuL2NvdW50ZXJzL0dvb2dsZUFuYWx5dGljcyIsIi4vY291bnRlcnMvWWFuZGV4TWV0cmlrYSIsIjIiLCJfaWFxIiwiX0NvdW50ZXJHb29nbGVBbmFseXRpY3MiLCJfQ291bnRlcllhbmRleE1ldHJpa2EiLCJfQ291bnRlclBpd2lrIiwiX0NsaWNrIiwiVW5pb25BbmFseXRpY3MiLCJjb3VudGVycyIsIk1hcCIsImV2ZW50cyIsIm1vZHVsZU1hcCIsInNldCIsIkNvdW50ZXJHb29nbGVBbmFseXRpY3MiLCJDb3VudGVyWWFuZGV4TWV0cmlrYSIsIkNvdW50ZXJQaXdpayIsIkNsaWNrIiwianNNb2R1bGUiLCJqc09iamVjdCIsImlkIiwib3B0aW9ucyIsImhhcyIsImdldCIsInR5cGUiLCJfYXJyYXkiLCJhZGRDb3VudGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZXZlbnQiLCJhZGRFdmVudCIsInBhcmFtcyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zIiwiX2RpZEl0ZXJhdG9yRXJyb3IzIiwiX2l0ZXJhdG9yRXJyb3IzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsInRyaWdnZXIiLCIuL2NvdW50ZXJzL0NvdW50ZXJHb29nbGVBbmFseXRpY3MiLCIuL2NvdW50ZXJzL0NvdW50ZXJQaXdpayIsIi4vY291bnRlcnMvQ291bnRlcllhbmRleE1ldHJpa2EiLCIuL2V2ZW50cy9DbGljayIsIjMiLCJnbG9iYWwiLCJfSW50ZW50QW5hbHl0aWNzIiwiX1VuaW9uQW5hbHl0aWNzIiwiaW50ZW50QW5hbHl0aWNzIiwic2VsZiIsIndpbmRvdyIsIi4vSW50ZW50QW5hbHl0aWNzIiwiLi9VbmlvbkFuYWx5dGljcyIsIjQiLCJBYnN0cmFjdENvdW50ZXIiLCJnZXRDb3VudGVyT2JqZWN0IiwiNSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9nZXQiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInJlY2VpdmVyIiwiRnVuY3Rpb24iLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicGFyZW50IiwiZ2V0UHJvdG90eXBlT2YiLCJnZXR0ZXIiLCJfQ291bnRlckludGVyZmFjZTIiLCJfQ291bnRlckludGVyZmFjZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiVFlQRV9HQSIsIkNvdW50ZXJJbnRlcmZhY2UiLCIuL0NvdW50ZXJJbnRlcmZhY2UiLCI2IiwibG9jYXRvciIsInJhd09wdGlvbnMiLCJpbml0IiwiVFlQRV9ZQSIsIlRZUEVfUEkiLCI3IiwiOCIsIjkiLCJfQWJzdHJhY3RDb3VudGVyMiIsIl9BYnN0cmFjdENvdW50ZXIiLCJfdGhpcyIsInRyYWNrZXJOYW1lIiwiYWN0aW9uIiwidHJhY2tlclNlbmRQcmVmaXgiLCJoaXRUeXBlIiwiZXZlbnRDYXRlZ29yeSIsImNhdGVnb3J5IiwiZXZlbnRBY3Rpb24iLCJldmVudExhYmVsIiwibGFiZWwiLCJldmVudFZhbHVlIiwiLi4vSW50ZW50QW5hbHl0aWNzIiwiLi9BYnN0cmFjdENvdW50ZXIiLCIxMCIsImdvYWwiLCJyZWFjaEdvYWwiLCIxMSIsIl9FdmVudEludGVyZmFjZTIiLCJfRXZlbnRJbnRlcmZhY2UiLCJfdGhpczIiLCJzZWxlY3RvcnMiLCJxIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaWkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnRIYW5kbGVyIiwic2VuZERhdGEiLCJ2YWx1ZXMiLCJFdmVudEludGVyZmFjZSIsIi4uL2NvdW50ZXJzL0NvdW50ZXJJbnRlcmZhY2UiLCIuL0V2ZW50SW50ZXJmYWNlIiwiMTIiXSwibWFwcGluZ3MiOiJDQUFBLFFBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLEdBQUFFLEdBQUEsa0JBQUFDLFVBQUFBLE9BQUEsS0FBQUYsR0FBQUMsRUFBQSxNQUFBQSxHQUFBRixHQUFBLEVBQUEsSUFBQUksRUFBQSxNQUFBQSxHQUFBSixHQUFBLEVBQUEsSUFBQUssR0FBQSxHQUFBQyxPQUFBLHVCQUFBTixFQUFBLElBQUEsTUFBQUssR0FBQUUsS0FBQSxtQkFBQUYsRUFBQSxHQUFBRyxHQUFBWCxFQUFBRyxJQUFBUyxXQUFBYixHQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxHQUFBRSxHQUFBRCxFQUFBSSxHQUFBLEdBQUFMLEVBQUEsT0FBQUksR0FBQUYsRUFBQUEsRUFBQUYsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxNQUFBRCxHQUFBRyxHQUFBUyxR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c0IsR0FBcUJ0QixNWXgyQjFoQjBMLEVaNDJCZSxXWXYyQmpCLFFBQUFBLEdBQVl2QyxFQUFTL0QsR0FBU3RGLEVBQUE0QixLQUFBZ0ssR0FDMUJoSyxLQUFLeUgsUUFBVUEsRUFDZnpILEtBQUsySCxLQUFLakUsR1pzNEJoQixNQWRBeEUsR0FBYThLLElBQ1h0SyxJQUFLLE9BQ0xoQixNQUFPLFNZbjNCRmdGLE9aMjNCTGhFLElBQUssVUFDTGhCLE1BQU8sU1lyM0JDNkYsUVp3M0JIeUYsSUFHVGpNLEdZdjNCUWlNLGVBQUFBLFlaeTNCRyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSW50ZW50QW5hbHl0aWNzID0gdW5kZWZpbmVkO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9Hb29nbGVBbmFseXRpY3MgPSByZXF1aXJlKCcuL2NvdW50ZXJzL0dvb2dsZUFuYWx5dGljcycpO1xuXG52YXIgX1lhbmRleE1ldHJpa2EgPSByZXF1aXJlKCcuL2NvdW50ZXJzL1lhbmRleE1ldHJpa2EnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEludGVudEFuYWx5dGljcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSW50ZW50QW5hbHl0aWNzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlbnRBbmFseXRpY3MpO1xuXG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucygpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEludGVudEFuYWx5dGljcywgW3tcbiAgICBrZXk6ICdkZWZhdWx0T3B0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRPcHRpb25zKCkge1xuICAgICAgdGhpcy5jb3VudGVyc0xpc3QgPSB7fTtcbiAgICAgIHRoaXMuYWN0aW9uUXVldWUgPSB7fTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbml0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChjb3VudGVyc0xpc3QpIHtcbiAgICAgIGZvciAodmFyIGNvdW50ZXJUeXBlIGluIGNvdW50ZXJzTGlzdCkge1xuICAgICAgICBpZiAoY291bnRlcnNMaXN0Lmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV07XG4gICAgICAgIHZhciBjb3VudGVyQ2xhc3MgPSBJbnRlbnRBbmFseXRpY3MuY3JlYXRlQ291bnRlcihjb3VudGVyLCBjb3VudGVyVHlwZSk7XG4gICAgICAgIGlmIChjb3VudGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV0gPSBjb3VudGVyQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGRUb1F1ZXVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVG9RdWV1ZShjb3VudGVyVHlwZSwgZnVuY3Rpb25OYW1lLCBhcmd1bWVudCkge1xuICAgICAgaWYgKF90eXBlb2YodGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0pICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLmFjdGlvblF1ZXVlW2NvdW50ZXJUeXBlXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0ucHVzaCh7XG4gICAgICAgICdmdW5jdGlvbk5hbWUnOiBmdW5jdGlvbk5hbWUsXG4gICAgICAgICdhcmd1bWVudCc6IGFyZ3VtZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja1VuaGFuZGxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrVW5oYW5kbGVkKCkge1xuICAgICAgZm9yICh2YXIgY291bnRlclR5cGUgaW4gdGhpcy5hY3Rpb25RdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3Rpb25RdWV1ZS5oYXNPd25Qcm9wZXJ0eShjb3VudGVyVHlwZSkgJiYgX3R5cGVvZih0aGlzLmFjdGlvblF1ZXVlW2NvdW50ZXJUeXBlXSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gLmNvdW50ZXIgZ2V0dGVyIHdpbGwgY2hlY2sgaWYgY291bnRlciBnbG9iYWwgb2JqZWN0KGllLiBnYSwgeWFDb3VudGVyKSBub3cgZXhpc3RzXG4gICAgICAgICAgaWYgKHRoaXMuY291bnRlcnNMaXN0Lmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSAmJiB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV0uY291bnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBxdWV1ZUl0ZW1zIG9mIHRoaXMgY291bnRlclxuICAgICAgICAgICAgdmFyIGNvdW50ZXJDbGFzcyA9IHRoaXMuY291bnRlcnNMaXN0W2NvdW50ZXJUeXBlXTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmFjdGlvblF1ZXVlW2NvdW50ZXJUeXBlXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcXVldWVJdGVtID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gcXVldWVJdGVtLmZ1bmN0aW9uTmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJndW1lbnQgPSBxdWV1ZUl0ZW0uYXJndW1lbnQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvdW50ZXJDbGFzc1tmdW5jdGlvbk5hbWVdKGFyZ3VtZW50KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICBJbnRlbnRBbmFseXRpY3MubG9nRXJyb3IoJ0V4Y2VwdGlvbiBkdXJpbmcgcXVldWVkICcgKyBmdW5jdGlvbk5hbWUgKyAnIGNhbGw6ICcgKyBKU09OLnN0cmluZ2lmeShlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIGRpc2FibGUgcXVldWUgZm9yIHRoaXMgY291bnRlciBhcyBpdCBpcyBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgICAgICAgLy8gYWxsIG5leHQgY2FsbHMgdG8gdGhpcyBjb3VudGVyIHNob3VsZCBiZSBoYW5kbGVkIG9rXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0cmFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYWNrKGNvdW50ZXJzSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICB0aGlzLmNoZWNrVW5oYW5kbGVkKCk7XG4gICAgICBmb3IgKHZhciBjb3VudGVyVHlwZSBpbiBjb3VudGVyc0luc3RydWN0aW9ucykge1xuICAgICAgICBpZiAoY291bnRlcnNJbnN0cnVjdGlvbnMuaGFzT3duUHJvcGVydHkoY291bnRlclR5cGUpID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluc3RydWN0aW9uID0gY291bnRlcnNJbnN0cnVjdGlvbnNbY291bnRlclR5cGVdO1xuICAgICAgICBpZiAodGhpcy5jb3VudGVyc0xpc3RbY291bnRlclR5cGVdLmNvdW50ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBpZiBnbG9iYWwganMgb2JqZWN0IG9mIGNvdW50ZXIgaXMgbm90IGxvYWRlZCAtIHRoaXMgd2lsbCBhZGQgaXQgdG8gcXVldWVcbiAgICAgICAgICB0aGlzLmFkZFRvUXVldWUoY291bnRlclR5cGUsICd0cmFjaycsIGluc3RydWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5jb3VudGVyc0xpc3QuaGFzT3duUHJvcGVydHkoY291bnRlclR5cGUpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV0udHJhY2soaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBJbnRlbnRBbmFseXRpY3MubG9nRXJyb3IoJ0V4Y2VwdGlvbiBkdXJpbmcgdHJhY2sgY2FsbDogJyArIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kVmFyaWFibGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZFZhcmlhYmxlcyh2YXJpYWJsZXMpIHtcbiAgICAgIHRoaXMuY2hlY2tVbmhhbmRsZWQoKTtcbiAgICAgIGZvciAodmFyIGNvdW50ZXJUeXBlIGluIHRoaXMuY291bnRlcnNMaXN0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvdW50ZXJzTGlzdC5oYXNPd25Qcm9wZXJ0eShjb3VudGVyVHlwZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvdW50ZXIgPSB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV07XG4gICAgICAgIGlmIChjb3VudGVyLmNvdW50ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmFkZFRvUXVldWUoY291bnRlclR5cGUsICdzZW5kVmFyaWFibGVzJywgdmFyaWFibGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvdW50ZXIuc2VuZFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgSW50ZW50QW5hbHl0aWNzLmxvZ0Vycm9yKCdFeGNlcHRpb24gZHVyaW5nIHNlbmRWYXJpYWJsZXMgY2FsbDogJyArIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnY3JlYXRlQ291bnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNvdW50ZXIoY291bnRlciwgY291bnRlclR5cGUpIHtcbiAgICAgIHN3aXRjaCAoY291bnRlclR5cGUpIHtcbiAgICAgICAgY2FzZSAnR29vZ2xlQW5hbHl0aWNzJzpcbiAgICAgICAgICByZXR1cm4gbmV3IF9Hb29nbGVBbmFseXRpY3MuR29vZ2xlQW5hbHl0aWNzKGNvdW50ZXIuamF2YXNjcmlwdE9iamVjdE5hbWUsIGNvdW50ZXIpO1xuICAgICAgICBjYXNlICdZYW5kZXhNZXRyaWthJzpcbiAgICAgICAgICByZXR1cm4gbmV3IF9ZYW5kZXhNZXRyaWthLllhbmRleE1ldHJpa2EoY291bnRlci5qYXZhc2NyaXB0T2JqZWN0TmFtZSwgY291bnRlcik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG9nRXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dFcnJvcihtZXNzYWdlKSB7XG4gICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW50ZW50QW5hbHl0aWNzO1xufSgpO1xuXG5leHBvcnRzLkludGVudEFuYWx5dGljcyA9IEludGVudEFuYWx5dGljcztcblxufSx7XCIuL2NvdW50ZXJzL0dvb2dsZUFuYWx5dGljc1wiOjksXCIuL2NvdW50ZXJzL1lhbmRleE1ldHJpa2FcIjoxMH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLl9pYXEgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQ291bnRlckdvb2dsZUFuYWx5dGljcyA9IHJlcXVpcmUoJy4vY291bnRlcnMvQ291bnRlckdvb2dsZUFuYWx5dGljcycpO1xuXG52YXIgX0NvdW50ZXJZYW5kZXhNZXRyaWthID0gcmVxdWlyZSgnLi9jb3VudGVycy9Db3VudGVyWWFuZGV4TWV0cmlrYScpO1xuXG52YXIgX0NvdW50ZXJQaXdpayA9IHJlcXVpcmUoJy4vY291bnRlcnMvQ291bnRlclBpd2lrJyk7XG5cbnZhciBfQ2xpY2sgPSByZXF1aXJlKCcuL2V2ZW50cy9DbGljaycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVW5pb25BbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5pb25BbmFseXRpY3MoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVbmlvbkFuYWx5dGljcyk7XG5cbiAgICAgICAgdGhpcy5jb3VudGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubW9kdWxlTWFwID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIHRoaXMubW9kdWxlTWFwLnNldCgnQ291bnRlckdvb2dsZUFuYWx5dGljcycsIF9Db3VudGVyR29vZ2xlQW5hbHl0aWNzLkNvdW50ZXJHb29nbGVBbmFseXRpY3MpO1xuICAgICAgICB0aGlzLm1vZHVsZU1hcC5zZXQoJ0NvdW50ZXJZYW5kZXhNZXRyaWthJywgX0NvdW50ZXJZYW5kZXhNZXRyaWthLkNvdW50ZXJZYW5kZXhNZXRyaWthKTtcbiAgICAgICAgdGhpcy5tb2R1bGVNYXAuc2V0KCdDb3VudGVyUGl3aWsnLCBfQ291bnRlclBpd2lrLkNvdW50ZXJQaXdpayk7XG4gICAgICAgIHRoaXMubW9kdWxlTWFwLnNldCgnQ2xpY2snLCBfQ2xpY2suQ2xpY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBtb2R1bGVcbiAgICAgKiBAcGFyYW0ganNNb2R1bGVcbiAgICAgKiBAcGFyYW0ganNPYmplY3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFVuaW9uQW5hbHl0aWNzLCBbe1xuICAgICAgICBrZXk6ICdhZGRNb2R1bGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTW9kdWxlKGpzTW9kdWxlLCBqc09iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5tb2R1bGVNYXAuc2V0KGpzTW9kdWxlLCBqc09iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGNvdW50ZXJcbiAgICAgICAgICogQHBhcmFtIGpzTW9kdWxlXG4gICAgICAgICAqIEBwYXJhbSBpZFxuICAgICAgICAgKiBAcGFyYW0ganNPYmplY3RcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FkZENvdW50ZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ291bnRlcihpZCwganNNb2R1bGUsIGpzT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kdWxlTWFwLmhhcyhqc01vZHVsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqc01vZHVsZSA9IHRoaXMubW9kdWxlTWFwLmdldChqc01vZHVsZSk7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnNldChpZCwgbmV3IGpzTW9kdWxlKHRoaXMsIGpzT2JqZWN0LCBvcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSBqc01vZHVsZVxuICAgICAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkRXZlbnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnQoanNNb2R1bGUsIHR5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5tb2R1bGVNYXAuaGFzKGpzTW9kdWxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpzTW9kdWxlID0gdGhpcy5tb2R1bGVNYXAuZ2V0KGpzTW9kdWxlKTtcblxuICAgICAgICAgICAgdmFyIF9hcnJheSA9IHRoaXMuZXZlbnRzLmhhcyh0eXBlKSA/IHRoaXMuZXZlbnRzLmdldCh0eXBlKSA6IFtdO1xuICAgICAgICAgICAgX2FycmF5LnB1c2gobmV3IGpzTW9kdWxlKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldCh0eXBlLCBfYXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBjb3VudGVyc1xuICAgICAgICAgKiBAcGFyYW0gY291bnRlcnNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FkZENvdW50ZXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENvdW50ZXJzKGNvdW50ZXJzKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBjb3VudGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENvdW50ZXIoY291bnRlci5pZCwgY291bnRlci5qc01vZHVsZSwgY291bnRlci5qc09iamVjdCwgY291bnRlci5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBldmVudHNcbiAgICAgICAgICogQHBhcmFtIGV2ZW50c1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWRkRXZlbnRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50cyhldmVudHMpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBldmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnQoZXZlbnQuanNNb2R1bGUsIGV2ZW50LnR5cGUsIGV2ZW50Lm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHR5cGVcbiAgICAgICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpZ2dlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKHR5cGUsIHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIF9hcnJheSA9IHRoaXMuZXZlbnRzLmhhcyh0eXBlKSA/IHRoaXMuZXZlbnRzLmdldCh0eXBlKSA6IFtdO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IF9hcnJheVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudHJpZ2dlcihwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFVuaW9uQW5hbHl0aWNzO1xufSgpO1xuXG52YXIgX2lhcSA9IGV4cG9ydHMuX2lhcSA9IG5ldyBVbmlvbkFuYWx5dGljcygpO1xuXG59LHtcIi4vY291bnRlcnMvQ291bnRlckdvb2dsZUFuYWx5dGljc1wiOjUsXCIuL2NvdW50ZXJzL0NvdW50ZXJQaXdpa1wiOjcsXCIuL2NvdW50ZXJzL0NvdW50ZXJZYW5kZXhNZXRyaWthXCI6OCxcIi4vZXZlbnRzL0NsaWNrXCI6MTF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9JbnRlbnRBbmFseXRpY3MgPSByZXF1aXJlKCcuL0ludGVudEFuYWx5dGljcycpO1xuXG52YXIgX1VuaW9uQW5hbHl0aWNzID0gcmVxdWlyZSgnLi9VbmlvbkFuYWx5dGljcycpO1xuXG5nbG9iYWwuaW50ZW50QW5hbHl0aWNzID0gbmV3IF9JbnRlbnRBbmFseXRpY3MuSW50ZW50QW5hbHl0aWNzKCk7XG5nbG9iYWwuX2lhcSA9IF9VbmlvbkFuYWx5dGljcy5faWFxO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL0ludGVudEFuYWx5dGljc1wiOjEsXCIuL1VuaW9uQW5hbHl0aWNzXCI6Mn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBBYnN0cmFjdENvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEhlcmUgd2UgdHVybiBvZmYgbm8tdW51c2VkLXZhcnMgd2FybmluZyBiZWNhdXNlIHRoaXMgY2xhc3MgaXMgYWN0dWFsbHkgYWJzdHJhY3QuXG4gIC8vIFNvIHRoZXJlJ3MgYSBsb3Qgb2YgdW51c2VkIHZhcnMgYW5kIGl0IGlzIG5vcm1hbCAtIHdlIGp1c3Qgd2FudCB0byBkZXNjcmliZSB0aGUgd2hvbGUgaW50ZXJmYWNlLlxuICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAqL1xuXG4gIGZ1bmN0aW9uIEFic3RyYWN0Q291bnRlcihqYXZhc2NyaXB0T2JqZWN0TmFtZSwgcGFyYW1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFic3RyYWN0Q291bnRlcik7XG5cbiAgICB0aGlzLmphdmFzY3JpcHRPYmplY3ROYW1lID0gamF2YXNjcmlwdE9iamVjdE5hbWU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQWJzdHJhY3RDb3VudGVyLCBbe1xuICAgIGtleTogXCJ0cmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFjayhwYXJhbXMpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VuZFZhcmlhYmxlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kVmFyaWFibGVzKHZhcmlhYmxlcykge31cbiAgfSwge1xuICAgIGtleTogXCJjb3VudGVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gQWJzdHJhY3RDb3VudGVyLmdldENvdW50ZXJPYmplY3QodGhpcy5qYXZhc2NyaXB0T2JqZWN0TmFtZSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0Q291bnRlck9iamVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb3VudGVyT2JqZWN0KGphdmFzY3JpcHRPYmplY3ROYW1lKSB7XG4gICAgICByZXR1cm4gd2luZG93W2phdmFzY3JpcHRPYmplY3ROYW1lXSB8fCBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBYnN0cmFjdENvdW50ZXI7XG59KCk7XG5cbmV4cG9ydHMuQWJzdHJhY3RDb3VudGVyID0gQWJzdHJhY3RDb3VudGVyO1xuXG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Db3VudGVyR29vZ2xlQW5hbHl0aWNzID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfQ291bnRlckludGVyZmFjZTIgPSByZXF1aXJlKCcuL0NvdW50ZXJJbnRlcmZhY2UnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ291bnRlckdvb2dsZUFuYWx5dGljcyA9IGZ1bmN0aW9uIChfQ291bnRlckludGVyZmFjZSkge1xuICAgIF9pbmhlcml0cyhDb3VudGVyR29vZ2xlQW5hbHl0aWNzLCBfQ291bnRlckludGVyZmFjZSk7XG5cbiAgICBmdW5jdGlvbiBDb3VudGVyR29vZ2xlQW5hbHl0aWNzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ291bnRlckdvb2dsZUFuYWx5dGljcyk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihDb3VudGVyR29vZ2xlQW5hbHl0aWNzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ291bnRlckdvb2dsZUFuYWx5dGljcywgW3tcbiAgICAgICAga2V5OiAnaW5pdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENvdW50ZXJHb29nbGVBbmFseXRpY3MucHJvdG90eXBlKSwgJ2luaXQnLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0eXBlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX0NvdW50ZXJJbnRlcmZhY2UyLlRZUEVfR0E7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ291bnRlckdvb2dsZUFuYWx5dGljcztcbn0oX0NvdW50ZXJJbnRlcmZhY2UyLkNvdW50ZXJJbnRlcmZhY2UpO1xuXG5leHBvcnRzLkNvdW50ZXJHb29nbGVBbmFseXRpY3MgPSBDb3VudGVyR29vZ2xlQW5hbHl0aWNzO1xuXG59LHtcIi4vQ291bnRlckludGVyZmFjZVwiOjZ9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ291bnRlckludGVyZmFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb3VudGVySW50ZXJmYWNlKGxvY2F0b3IsIGpzT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudGVySW50ZXJmYWNlKTtcblxuICAgICAgICB0aGlzLmxvY2F0b3IgPSBsb2NhdG9yO1xuICAgICAgICB0aGlzLmpzT2JqZWN0ID0ganNPYmplY3Q7XG4gICAgICAgIHRoaXMucmF3T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvdW50ZXJJbnRlcmZhY2UsIFt7XG4gICAgICAgIGtleTogJ2luaXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7fVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdHlwZSBvZiBjb3VudGVyIGFzIHN0cmluZ1xuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3R5cGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb3VudGVySW50ZXJmYWNlO1xufSgpO1xuXG52YXIgVFlQRV9HQSA9ICdHb29nbGUgQW5hbHl0aWNzJztcbnZhciBUWVBFX1lBID0gJ1lhbmRleC5NZXRyaWthJztcbnZhciBUWVBFX1BJID0gJ1Bpd2lrJztcblxuZXhwb3J0cy5Db3VudGVySW50ZXJmYWNlID0gQ291bnRlckludGVyZmFjZTtcbmV4cG9ydHMuVFlQRV9HQSA9IFRZUEVfR0E7XG5leHBvcnRzLlRZUEVfWUEgPSBUWVBFX1lBO1xuZXhwb3J0cy5UWVBFX1BJID0gVFlQRV9QSTtcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ291bnRlclBpd2lrID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfQ291bnRlckludGVyZmFjZTIgPSByZXF1aXJlKCcuL0NvdW50ZXJJbnRlcmZhY2UnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ291bnRlclBpd2lrID0gZnVuY3Rpb24gKF9Db3VudGVySW50ZXJmYWNlKSB7XG4gICAgX2luaGVyaXRzKENvdW50ZXJQaXdpaywgX0NvdW50ZXJJbnRlcmZhY2UpO1xuXG4gICAgZnVuY3Rpb24gQ291bnRlclBpd2lrKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ291bnRlclBpd2lrKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvdW50ZXJQaXdpaykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvdW50ZXJQaXdpaywgW3tcbiAgICAgICAga2V5OiAnaW5pdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENvdW50ZXJQaXdpay5wcm90b3R5cGUpLCAnaW5pdCcsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3R5cGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfQ291bnRlckludGVyZmFjZTIuVFlQRV9QSTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb3VudGVyUGl3aWs7XG59KF9Db3VudGVySW50ZXJmYWNlMi5Db3VudGVySW50ZXJmYWNlKTtcblxuZXhwb3J0cy5Db3VudGVyUGl3aWsgPSBDb3VudGVyUGl3aWs7XG5cbn0se1wiLi9Db3VudGVySW50ZXJmYWNlXCI6Nn1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkNvdW50ZXJZYW5kZXhNZXRyaWthID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfQ291bnRlckludGVyZmFjZTIgPSByZXF1aXJlKCcuL0NvdW50ZXJJbnRlcmZhY2UnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ291bnRlcllhbmRleE1ldHJpa2EgPSBmdW5jdGlvbiAoX0NvdW50ZXJJbnRlcmZhY2UpIHtcbiAgICBfaW5oZXJpdHMoQ291bnRlcllhbmRleE1ldHJpa2EsIF9Db3VudGVySW50ZXJmYWNlKTtcblxuICAgIGZ1bmN0aW9uIENvdW50ZXJZYW5kZXhNZXRyaWthKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ291bnRlcllhbmRleE1ldHJpa2EpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ291bnRlcllhbmRleE1ldHJpa2EpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDb3VudGVyWWFuZGV4TWV0cmlrYSwgW3tcbiAgICAgICAga2V5OiAnaW5pdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENvdW50ZXJZYW5kZXhNZXRyaWthLnByb3RvdHlwZSksICdpbml0JywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHlwZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9Db3VudGVySW50ZXJmYWNlMi5UWVBFX1lBO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvdW50ZXJZYW5kZXhNZXRyaWthO1xufShfQ291bnRlckludGVyZmFjZTIuQ291bnRlckludGVyZmFjZSk7XG5cbmV4cG9ydHMuQ291bnRlcllhbmRleE1ldHJpa2EgPSBDb3VudGVyWWFuZGV4TWV0cmlrYTtcblxufSx7XCIuL0NvdW50ZXJJbnRlcmZhY2VcIjo2fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkdvb2dsZUFuYWx5dGljcyA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9BYnN0cmFjdENvdW50ZXIyID0gcmVxdWlyZSgnLi9BYnN0cmFjdENvdW50ZXInKTtcblxudmFyIF9JbnRlbnRBbmFseXRpY3MgPSByZXF1aXJlKCcuLi9JbnRlbnRBbmFseXRpY3MnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgR29vZ2xlQW5hbHl0aWNzID0gZnVuY3Rpb24gKF9BYnN0cmFjdENvdW50ZXIpIHtcbiAgX2luaGVyaXRzKEdvb2dsZUFuYWx5dGljcywgX0Fic3RyYWN0Q291bnRlcik7XG5cbiAgZnVuY3Rpb24gR29vZ2xlQW5hbHl0aWNzKCkge1xuICAgIHZhciBqYXZhc2NyaXB0T2JqZWN0TmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICdnYScgOiBhcmd1bWVudHNbMF07XG4gICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdvb2dsZUFuYWx5dGljcyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoR29vZ2xlQW5hbHl0aWNzKS5jYWxsKHRoaXMsIGphdmFzY3JpcHRPYmplY3ROYW1lLCBwYXJhbXMpKTtcblxuICAgIF90aGlzLnRyYWNrZXJOYW1lID0gcGFyYW1zLnRyYWNrZXJOYW1lIHx8ICcnO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHb29nbGVBbmFseXRpY3MsIFt7XG4gICAga2V5OiAndHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFjayhwYXJhbXMpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLmFjdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX0ludGVudEFuYWx5dGljcy5JbnRlbnRBbmFseXRpY3MubG9nRXJyb3IoJ05vIGFjdGlvbiBzdXBwbGllZCBmb3IgR29vZ2xlQW5hbHl0aWNzLnRyYWNrOiAnICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSB0aGlzLnRyYWNrZXJTZW5kUHJlZml4ICsgJ3NlbmQnO1xuXG4gICAgICB0aGlzLmNvdW50ZXIoZnVuY3Rpb25OYW1lLCB7XG4gICAgICAgICdoaXRUeXBlJzogJ2V2ZW50JyxcbiAgICAgICAgJ2V2ZW50Q2F0ZWdvcnknOiBwYXJhbXMuY2F0ZWdvcnkgfHwgJ2NvbW1vbicsXG4gICAgICAgICdldmVudEFjdGlvbic6IHBhcmFtcy5hY3Rpb24sXG4gICAgICAgICdldmVudExhYmVsJzogcGFyYW1zLmxhYmVsIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgJ2V2ZW50VmFsdWUnOiBwYXJhbXMudmFsdWUgfHwgdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kVmFyaWFibGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZFZhcmlhYmxlcyh2YXJpYWJsZXMpIHtcbiAgICAgIC8vISBAdG9kbyBUaGluayBvZiBiaWcgZGVwdGggLSBnYSBkb2Vzbid0IGFjY2VwdCBpdC5cbiAgICAgIHRoaXMuY291bnRlcih0aGlzLnRyYWNrZXJTZW5kUHJlZml4ICsgJ3NldCcsIHZhcmlhYmxlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndHJhY2tlclNlbmRQcmVmaXgnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhY2tlck5hbWUgfHwgJyc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdvb2dsZUFuYWx5dGljcztcbn0oX0Fic3RyYWN0Q291bnRlcjIuQWJzdHJhY3RDb3VudGVyKTtcblxuZXhwb3J0cy5Hb29nbGVBbmFseXRpY3MgPSBHb29nbGVBbmFseXRpY3M7XG5cbn0se1wiLi4vSW50ZW50QW5hbHl0aWNzXCI6MSxcIi4vQWJzdHJhY3RDb3VudGVyXCI6NH1dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuWWFuZGV4TWV0cmlrYSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9BYnN0cmFjdENvdW50ZXIyID0gcmVxdWlyZSgnLi9BYnN0cmFjdENvdW50ZXInKTtcblxudmFyIF9JbnRlbnRBbmFseXRpY3MgPSByZXF1aXJlKCcuLi9JbnRlbnRBbmFseXRpY3MnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgWWFuZGV4TWV0cmlrYSA9IGZ1bmN0aW9uIChfQWJzdHJhY3RDb3VudGVyKSB7XG4gIF9pbmhlcml0cyhZYW5kZXhNZXRyaWthLCBfQWJzdHJhY3RDb3VudGVyKTtcblxuICBmdW5jdGlvbiBZYW5kZXhNZXRyaWthKGphdmFzY3JpcHRPYmplY3ROYW1lLCBwYXJhbXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWWFuZGV4TWV0cmlrYSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFlhbmRleE1ldHJpa2EpLmNhbGwodGhpcywgamF2YXNjcmlwdE9iamVjdE5hbWUsIHBhcmFtcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFlhbmRleE1ldHJpa2EsIFt7XG4gICAga2V5OiAndHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFjayhwYXJhbXMpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLmdvYWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9JbnRlbnRBbmFseXRpY3MuSW50ZW50QW5hbHl0aWNzLmxvZ0Vycm9yKCdObyBnb2FsIHN1cHBsaWVkIGZvciBZYW5kZXhNZXRyaWthLnRyYWNrOiAnICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY291bnRlci5yZWFjaEdvYWwocGFyYW1zLmdvYWwsIHBhcmFtcy5wYXJhbXMgfHwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbmRWYXJpYWJsZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kVmFyaWFibGVzKHZhcmlhYmxlcykge1xuICAgICAgdGhpcy5jb3VudGVyLnBhcmFtcyh2YXJpYWJsZXMpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBZYW5kZXhNZXRyaWthO1xufShfQWJzdHJhY3RDb3VudGVyMi5BYnN0cmFjdENvdW50ZXIpO1xuXG5leHBvcnRzLllhbmRleE1ldHJpa2EgPSBZYW5kZXhNZXRyaWthO1xuXG59LHtcIi4uL0ludGVudEFuYWx5dGljc1wiOjEsXCIuL0Fic3RyYWN0Q291bnRlclwiOjR9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQ2xpY2sgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxudmFyIF9FdmVudEludGVyZmFjZTIgPSByZXF1aXJlKCcuL0V2ZW50SW50ZXJmYWNlJyk7XG5cbnZhciBfQ291bnRlckludGVyZmFjZSA9IHJlcXVpcmUoJy4uL2NvdW50ZXJzL0NvdW50ZXJJbnRlcmZhY2UnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ2xpY2sgPSBmdW5jdGlvbiAoX0V2ZW50SW50ZXJmYWNlKSB7XG4gICAgX2luaGVyaXRzKENsaWNrLCBfRXZlbnRJbnRlcmZhY2UpO1xuXG4gICAgZnVuY3Rpb24gQ2xpY2soKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGljayk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihDbGljaykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENsaWNrLCBbe1xuICAgICAgICBrZXk6ICdpbml0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENsaWNrLnByb3RvdHlwZSksICdpbml0JywgdGhpcykuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NlbGVjdG9ycycpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLnNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcSA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuc2VsZWN0b3JzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHEubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxW2lpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdldmVudEhhbmRsZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmREYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpZ2dlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKHBhcmFtcykge1xuICAgICAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2xpY2sucHJvdG90eXBlKSwgJ3RyaWdnZXInLCB0aGlzKS5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLnNlbmREYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NlbmREYXRhJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmREYXRhKCkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5sb2NhdG9yLmNvdW50ZXJzLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfQ291bnRlckludGVyZmFjZS5UWVBFX0dBID09IGNvdW50ZXIudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W2NvdW50ZXIuanNPYmplY3RdKCdzZW5kJywgJ2V2ZW50JywgJ0FjdGlvbicsICdjbGljaycsICdDbGljaycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDbGljaztcbn0oX0V2ZW50SW50ZXJmYWNlMi5FdmVudEludGVyZmFjZSk7XG5cbmV4cG9ydHMuQ2xpY2sgPSBDbGljaztcblxufSx7XCIuLi9jb3VudGVycy9Db3VudGVySW50ZXJmYWNlXCI6NixcIi4vRXZlbnRJbnRlcmZhY2VcIjoxMn1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRXZlbnRJbnRlcmZhY2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gbG9jYXRvciBVbmlvbkFuYWx5dGljc1xuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKi9cblxuICBmdW5jdGlvbiBFdmVudEludGVyZmFjZShsb2NhdG9yLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50SW50ZXJmYWNlKTtcblxuICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgdGhpcy5pbml0KG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRJbnRlcmZhY2UsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7fVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlclxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRyaWdnZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihwYXJhbXMpIHt9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRJbnRlcmZhY2U7XG59KCk7XG5cbmV4cG9ydHMuRXZlbnRJbnRlcmZhY2UgPSBFdmVudEludGVyZmFjZTtcblxufSx7fV19LHt9LFszXSlcblxuIiwiaW1wb3J0IHtHb29nbGVBbmFseXRpY3N9IGZyb20gJy4vY291bnRlcnMvR29vZ2xlQW5hbHl0aWNzJztcbmltcG9ydCB7WWFuZGV4TWV0cmlrYX0gZnJvbSAnLi9jb3VudGVycy9ZYW5kZXhNZXRyaWthJztcblxuY2xhc3MgSW50ZW50QW5hbHl0aWNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucygpO1xuICB9XG5cbiAgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgdGhpcy5jb3VudGVyc0xpc3QgPSB7fTtcbiAgICB0aGlzLmFjdGlvblF1ZXVlID0ge307XG4gIH1cblxuICBpbml0KGNvdW50ZXJzTGlzdCkge1xuICAgIGZvciAoY29uc3QgY291bnRlclR5cGUgaW4gY291bnRlcnNMaXN0KSB7XG4gICAgICBpZiAoY291bnRlcnNMaXN0Lmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb3VudGVyID0gY291bnRlcnNMaXN0W2NvdW50ZXJUeXBlXTtcbiAgICAgIGNvbnN0IGNvdW50ZXJDbGFzcyA9IEludGVudEFuYWx5dGljcy5jcmVhdGVDb3VudGVyKGNvdW50ZXIsIGNvdW50ZXJUeXBlKTtcbiAgICAgIGlmIChjb3VudGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyc0xpc3RbY291bnRlclR5cGVdID0gY291bnRlckNsYXNzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVDb3VudGVyKGNvdW50ZXIsIGNvdW50ZXJUeXBlKSB7XG4gICAgc3dpdGNoIChjb3VudGVyVHlwZSkge1xuICAgIGNhc2UgJ0dvb2dsZUFuYWx5dGljcyc6XG4gICAgICByZXR1cm4gbmV3IEdvb2dsZUFuYWx5dGljcyhjb3VudGVyLmphdmFzY3JpcHRPYmplY3ROYW1lLCBjb3VudGVyKTtcbiAgICBjYXNlICdZYW5kZXhNZXRyaWthJzpcbiAgICAgIHJldHVybiBuZXcgWWFuZGV4TWV0cmlrYShjb3VudGVyLmphdmFzY3JpcHRPYmplY3ROYW1lLCBjb3VudGVyKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYWRkVG9RdWV1ZShjb3VudGVyVHlwZSwgZnVuY3Rpb25OYW1lLCBhcmd1bWVudCkge1xuICAgIGlmICh0eXBlb2YodGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0pICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0ucHVzaCh7XG4gICAgICAnZnVuY3Rpb25OYW1lJzogZnVuY3Rpb25OYW1lLFxuICAgICAgJ2FyZ3VtZW50JzogYXJndW1lbnQsXG4gICAgfSk7XG4gIH1cblxuICBjaGVja1VuaGFuZGxlZCgpIHtcbiAgICBmb3IgKGNvbnN0IGNvdW50ZXJUeXBlIGluIHRoaXMuYWN0aW9uUXVldWUpIHtcbiAgICAgIGlmICh0aGlzLmFjdGlvblF1ZXVlLmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSAmJiB0eXBlb2YodGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyAuY291bnRlciBnZXR0ZXIgd2lsbCBjaGVjayBpZiBjb3VudGVyIGdsb2JhbCBvYmplY3QoaWUuIGdhLCB5YUNvdW50ZXIpIG5vdyBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMuY291bnRlcnNMaXN0Lmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSAmJiB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV0uY291bnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgcXVldWVJdGVtcyBvZiB0aGlzIGNvdW50ZXJcbiAgICAgICAgICBjb25zdCBjb3VudGVyQ2xhc3MgPSB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV07XG4gICAgICAgICAgZm9yIChjb25zdCBxdWV1ZUl0ZW0gb2YgdGhpcy5hY3Rpb25RdWV1ZVtjb3VudGVyVHlwZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uTmFtZSA9IHF1ZXVlSXRlbS5mdW5jdGlvbk5hbWU7XG4gICAgICAgICAgICBjb25zdCBhcmd1bWVudCA9IHF1ZXVlSXRlbS5hcmd1bWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvdW50ZXJDbGFzc1tmdW5jdGlvbk5hbWVdKGFyZ3VtZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgSW50ZW50QW5hbHl0aWNzLmxvZ0Vycm9yKGBFeGNlcHRpb24gZHVyaW5nIHF1ZXVlZCAke2Z1bmN0aW9uTmFtZX0gY2FsbDogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZGlzYWJsZSBxdWV1ZSBmb3IgdGhpcyBjb3VudGVyIGFzIGl0IGlzIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAgIC8vIGFsbCBuZXh0IGNhbGxzIHRvIHRoaXMgY291bnRlciBzaG91bGQgYmUgaGFuZGxlZCBva1xuICAgICAgICAgIHRoaXMuYWN0aW9uUXVldWVbY291bnRlclR5cGVdID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0cmFjayhjb3VudGVyc0luc3RydWN0aW9ucykge1xuICAgIHRoaXMuY2hlY2tVbmhhbmRsZWQoKTtcbiAgICBmb3IgKGNvbnN0IGNvdW50ZXJUeXBlIGluIGNvdW50ZXJzSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICBpZiAoY291bnRlcnNJbnN0cnVjdGlvbnMuaGFzT3duUHJvcGVydHkoY291bnRlclR5cGUpID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5zdHJ1Y3Rpb24gPSBjb3VudGVyc0luc3RydWN0aW9uc1tjb3VudGVyVHlwZV07XG4gICAgICBpZiAodGhpcy5jb3VudGVyc0xpc3RbY291bnRlclR5cGVdLmNvdW50ZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gaWYgZ2xvYmFsIGpzIG9iamVjdCBvZiBjb3VudGVyIGlzIG5vdCBsb2FkZWQgLSB0aGlzIHdpbGwgYWRkIGl0IHRvIHF1ZXVlXG4gICAgICAgIHRoaXMuYWRkVG9RdWV1ZShjb3VudGVyVHlwZSwgJ3RyYWNrJywgaW5zdHJ1Y3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuY291bnRlcnNMaXN0Lmhhc093blByb3BlcnR5KGNvdW50ZXJUeXBlKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzTGlzdFtjb3VudGVyVHlwZV0udHJhY2soaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEludGVudEFuYWx5dGljcy5sb2dFcnJvcignRXhjZXB0aW9uIGR1cmluZyB0cmFjayBjYWxsOiAnICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNlbmRWYXJpYWJsZXModmFyaWFibGVzKSB7XG4gICAgdGhpcy5jaGVja1VuaGFuZGxlZCgpO1xuICAgIGZvciAoY29uc3QgY291bnRlclR5cGUgaW4gdGhpcy5jb3VudGVyc0xpc3QpIHtcbiAgICAgIGlmICh0aGlzLmNvdW50ZXJzTGlzdC5oYXNPd25Qcm9wZXJ0eShjb3VudGVyVHlwZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnRlciA9IHRoaXMuY291bnRlcnNMaXN0W2NvdW50ZXJUeXBlXTtcbiAgICAgIGlmIChjb3VudGVyLmNvdW50ZXIgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5hZGRUb1F1ZXVlKGNvdW50ZXJUeXBlLCAnc2VuZFZhcmlhYmxlcycsIHZhcmlhYmxlcyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb3VudGVyLnNlbmRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSW50ZW50QW5hbHl0aWNzLmxvZ0Vycm9yKCdFeGNlcHRpb24gZHVyaW5nIHNlbmRWYXJpYWJsZXMgY2FsbDogJyArIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbG9nRXJyb3IobWVzc2FnZSkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICBpZiAodHlwZW9mKGNvbnNvbGUpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfVxuICAgIC8qZXNsaW50LWVuYWJsZSovXG4gIH1cbn1cblxuZXhwb3J0IHtJbnRlbnRBbmFseXRpY3N9O1xuIiwiaW1wb3J0IHtDb3VudGVyR29vZ2xlQW5hbHl0aWNzfSBmcm9tICcuL2NvdW50ZXJzL0NvdW50ZXJHb29nbGVBbmFseXRpY3MnO1xuaW1wb3J0IHtDb3VudGVyWWFuZGV4TWV0cmlrYX0gZnJvbSAnLi9jb3VudGVycy9Db3VudGVyWWFuZGV4TWV0cmlrYSc7XG5pbXBvcnQge0NvdW50ZXJQaXdpa30gZnJvbSAnLi9jb3VudGVycy9Db3VudGVyUGl3aWsnO1xuaW1wb3J0IHtDbGlja30gZnJvbSAnLi9ldmVudHMvQ2xpY2snO1xuXG5jbGFzcyBVbmlvbkFuYWx5dGljcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY291bnRlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm1vZHVsZU1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICB0aGlzLm1vZHVsZU1hcC5zZXQoJ0NvdW50ZXJHb29nbGVBbmFseXRpY3MnLCBDb3VudGVyR29vZ2xlQW5hbHl0aWNzKTtcbiAgICAgICAgdGhpcy5tb2R1bGVNYXAuc2V0KCdDb3VudGVyWWFuZGV4TWV0cmlrYScsIENvdW50ZXJZYW5kZXhNZXRyaWthKTtcbiAgICAgICAgdGhpcy5tb2R1bGVNYXAuc2V0KCdDb3VudGVyUGl3aWsnLCBDb3VudGVyUGl3aWspO1xuICAgICAgICB0aGlzLm1vZHVsZU1hcC5zZXQoJ0NsaWNrJywgQ2xpY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBtb2R1bGVcbiAgICAgKiBAcGFyYW0ganNNb2R1bGVcbiAgICAgKiBAcGFyYW0ganNPYmplY3RcbiAgICAgKi9cbiAgICBhZGRNb2R1bGUoanNNb2R1bGUsIGpzT2JqZWN0KSB7XG4gICAgICAgIHRoaXMubW9kdWxlTWFwLnNldChqc01vZHVsZSwganNPYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBjb3VudGVyXG4gICAgICogQHBhcmFtIGpzTW9kdWxlXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGpzT2JqZWN0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhZGRDb3VudGVyKGlkLCBqc01vZHVsZSwganNPYmplY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZHVsZU1hcC5oYXMoanNNb2R1bGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIGpzTW9kdWxlID0gdGhpcy5tb2R1bGVNYXAuZ2V0KGpzTW9kdWxlKTtcbiAgICAgICAgdGhpcy5jb3VudGVycy5zZXQoaWQsIG5ldyBqc01vZHVsZSh0aGlzLCBqc09iamVjdCwgb3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBldmVudFxuICAgICAqIEBwYXJhbSBqc01vZHVsZVxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhZGRFdmVudChqc01vZHVsZSwgdHlwZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMubW9kdWxlTWFwLmhhcyhqc01vZHVsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAganNNb2R1bGUgPSB0aGlzLm1vZHVsZU1hcC5nZXQoanNNb2R1bGUpO1xuXG4gICAgICAgIGxldCBfYXJyYXkgPSB0aGlzLmV2ZW50cy5oYXModHlwZSkgPyB0aGlzLmV2ZW50cy5nZXQodHlwZSkgOiBbXTtcbiAgICAgICAgX2FycmF5LnB1c2gobmV3IGpzTW9kdWxlKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgICAgdGhpcy5ldmVudHMuc2V0KHR5cGUsIF9hcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGNvdW50ZXJzXG4gICAgICogQHBhcmFtIGNvdW50ZXJzXG4gICAgICovXG4gICAgYWRkQ291bnRlcnMoY291bnRlcnMpIHtcbiAgICAgICAgZm9yIChsZXQgY291bnRlciBvZiBjb3VudGVycykge1xuICAgICAgICAgICAgdGhpcy5hZGRDb3VudGVyKGNvdW50ZXIuaWQsIGNvdW50ZXIuanNNb2R1bGUsIGNvdW50ZXIuanNPYmplY3QsIGNvdW50ZXIub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZXZlbnRzXG4gICAgICogQHBhcmFtIGV2ZW50c1xuICAgICAqL1xuICAgIGFkZEV2ZW50cyhldmVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50KGV2ZW50LmpzTW9kdWxlLCBldmVudC50eXBlLCBldmVudC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYW4gZXZlbnRcbiAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICB0cmlnZ2VyKHR5cGUsIHBhcmFtcykge1xuICAgICAgICBsZXQgX2FycmF5ID0gdGhpcy5ldmVudHMuaGFzKHR5cGUpID8gdGhpcy5ldmVudHMuZ2V0KHR5cGUpIDogW107XG4gICAgICAgIGZvciAobGV0IGV2ZW50IG9mIF9hcnJheSkge1xuICAgICAgICAgICAgZXZlbnQudHJpZ2dlcihwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgX2lhcSA9IG5ldyBVbmlvbkFuYWx5dGljcygpO1xuIiwiaW1wb3J0IHtJbnRlbnRBbmFseXRpY3N9IGZyb20gJy4vSW50ZW50QW5hbHl0aWNzJztcbmltcG9ydCB7X2lhcX0gZnJvbSAnLi9VbmlvbkFuYWx5dGljcyc7XG5cbmdsb2JhbC5pbnRlbnRBbmFseXRpY3MgPSBuZXcgSW50ZW50QW5hbHl0aWNzKCk7XG5nbG9iYWwuX2lhcSA9IF9pYXE7XG4iLCJjbGFzcyBBYnN0cmFjdENvdW50ZXIge1xuICAvLyBIZXJlIHdlIHR1cm4gb2ZmIG5vLXVudXNlZC12YXJzIHdhcm5pbmcgYmVjYXVzZSB0aGlzIGNsYXNzIGlzIGFjdHVhbGx5IGFic3RyYWN0LlxuICAvLyBTbyB0aGVyZSdzIGEgbG90IG9mIHVudXNlZCB2YXJzIGFuZCBpdCBpcyBub3JtYWwgLSB3ZSBqdXN0IHdhbnQgdG8gZGVzY3JpYmUgdGhlIHdob2xlIGludGVyZmFjZS5cbiAgLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiAwKi9cbiAgY29uc3RydWN0b3IoamF2YXNjcmlwdE9iamVjdE5hbWUsIHBhcmFtcykge1xuICAgIHRoaXMuamF2YXNjcmlwdE9iamVjdE5hbWUgPSBqYXZhc2NyaXB0T2JqZWN0TmFtZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRDb3VudGVyT2JqZWN0KGphdmFzY3JpcHRPYmplY3ROYW1lKSB7XG4gICAgcmV0dXJuIHdpbmRvd1tqYXZhc2NyaXB0T2JqZWN0TmFtZV0gfHwgbnVsbDtcbiAgfVxuXG4gIHRyYWNrKHBhcmFtcykge1xuICB9XG5cbiAgc2VuZFZhcmlhYmxlcyh2YXJpYWJsZXMpIHtcblxuICB9XG5cbiAgZ2V0IGNvdW50ZXIoKSB7XG4gICAgcmV0dXJuIEFic3RyYWN0Q291bnRlci5nZXRDb3VudGVyT2JqZWN0KHRoaXMuamF2YXNjcmlwdE9iamVjdE5hbWUpO1xuICB9XG5cbn1cblxuZXhwb3J0IHtBYnN0cmFjdENvdW50ZXJ9O1xuIiwiaW1wb3J0IHtDb3VudGVySW50ZXJmYWNlLCBUWVBFX0dBfSBmcm9tICcuL0NvdW50ZXJJbnRlcmZhY2UnO1xuXG5jbGFzcyBDb3VudGVyR29vZ2xlQW5hbHl0aWNzIGV4dGVuZHMgQ291bnRlckludGVyZmFjZSB7XG4gICAgaW5pdChvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX0dBO1xuICAgIH1cbn1cblxuZXhwb3J0IHtDb3VudGVyR29vZ2xlQW5hbHl0aWNzfTtcbiIsImNsYXNzIENvdW50ZXJJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0b3IsIGpzT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgICAgIHRoaXMuanNPYmplY3QgPSBqc09iamVjdDtcbiAgICAgICAgdGhpcy5yYXdPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pbml0KG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGluaXQob3B0aW9ucykge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0eXBlIG9mIGNvdW50ZXIgYXMgc3RyaW5nXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59XG5cbmNvbnN0IFRZUEVfR0EgPSAnR29vZ2xlIEFuYWx5dGljcyc7XG5jb25zdCBUWVBFX1lBID0gJ1lhbmRleC5NZXRyaWthJztcbmNvbnN0IFRZUEVfUEkgPSAnUGl3aWsnO1xuXG5leHBvcnQge0NvdW50ZXJJbnRlcmZhY2UsIFRZUEVfR0EsIFRZUEVfWUEsIFRZUEVfUEl9O1xuIiwiaW1wb3J0IHtDb3VudGVySW50ZXJmYWNlLCBUWVBFX1BJfSBmcm9tICcuL0NvdW50ZXJJbnRlcmZhY2UnO1xuXG5jbGFzcyBDb3VudGVyUGl3aWsgZXh0ZW5kcyBDb3VudGVySW50ZXJmYWNlIHtcbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuaW5pdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfUEk7XG4gICAgfVxufVxuXG5leHBvcnQge0NvdW50ZXJQaXdpa307XG4iLCJpbXBvcnQge0NvdW50ZXJJbnRlcmZhY2UsIFRZUEVfWUF9IGZyb20gJy4vQ291bnRlckludGVyZmFjZSc7XG5cbmNsYXNzIENvdW50ZXJZYW5kZXhNZXRyaWthIGV4dGVuZHMgQ291bnRlckludGVyZmFjZSB7XG4gICAgaW5pdChvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX1lBO1xuICAgIH1cbn1cblxuZXhwb3J0IHtDb3VudGVyWWFuZGV4TWV0cmlrYX07XG4iLCJpbXBvcnQge0Fic3RyYWN0Q291bnRlcn0gZnJvbSAnLi9BYnN0cmFjdENvdW50ZXInO1xuaW1wb3J0IHtJbnRlbnRBbmFseXRpY3N9IGZyb20gJy4uL0ludGVudEFuYWx5dGljcyc7XG5cbmNsYXNzIEdvb2dsZUFuYWx5dGljcyBleHRlbmRzIEFic3RyYWN0Q291bnRlciB7XG4gIGNvbnN0cnVjdG9yKGphdmFzY3JpcHRPYmplY3ROYW1lID0gJ2dhJywgcGFyYW1zID0ge30pIHtcbiAgICBzdXBlcihqYXZhc2NyaXB0T2JqZWN0TmFtZSwgcGFyYW1zKTtcbiAgICB0aGlzLnRyYWNrZXJOYW1lID0gcGFyYW1zLnRyYWNrZXJOYW1lIHx8ICcnO1xuICB9XG5cbiAgZ2V0IHRyYWNrZXJTZW5kUHJlZml4KCkge1xuICAgIHJldHVybiB0aGlzLnRyYWNrZXJOYW1lIHx8ICcnO1xuICB9XG5cbiAgdHJhY2socGFyYW1zKSB7XG4gICAgaWYgKHR5cGVvZihwYXJhbXMuYWN0aW9uKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIEludGVudEFuYWx5dGljcy5sb2dFcnJvcignTm8gYWN0aW9uIHN1cHBsaWVkIGZvciBHb29nbGVBbmFseXRpY3MudHJhY2s6ICcgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnVuY3Rpb25OYW1lID0gdGhpcy50cmFja2VyU2VuZFByZWZpeCArICdzZW5kJztcblxuICAgIHRoaXMuY291bnRlcihmdW5jdGlvbk5hbWUsIHtcbiAgICAgICdoaXRUeXBlJzogJ2V2ZW50JyxcbiAgICAgICdldmVudENhdGVnb3J5JzogcGFyYW1zLmNhdGVnb3J5IHx8ICdjb21tb24nLFxuICAgICAgJ2V2ZW50QWN0aW9uJzogcGFyYW1zLmFjdGlvbixcbiAgICAgICdldmVudExhYmVsJzogcGFyYW1zLmxhYmVsIHx8IHVuZGVmaW5lZCxcbiAgICAgICdldmVudFZhbHVlJzogcGFyYW1zLnZhbHVlIHx8IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIHNlbmRWYXJpYWJsZXModmFyaWFibGVzKSB7XG4gICAgLy8hIEB0b2RvIFRoaW5rIG9mIGJpZyBkZXB0aCAtIGdhIGRvZXNuJ3QgYWNjZXB0IGl0LlxuICAgIHRoaXMuY291bnRlcih0aGlzLnRyYWNrZXJTZW5kUHJlZml4ICsgJ3NldCcsIHZhcmlhYmxlcyk7XG4gIH1cbn1cblxuZXhwb3J0IHtHb29nbGVBbmFseXRpY3N9O1xuIiwiaW1wb3J0IHtBYnN0cmFjdENvdW50ZXJ9IGZyb20gJy4vQWJzdHJhY3RDb3VudGVyJztcbmltcG9ydCB7SW50ZW50QW5hbHl0aWNzfSBmcm9tICcuLi9JbnRlbnRBbmFseXRpY3MnO1xuXG5jbGFzcyBZYW5kZXhNZXRyaWthIGV4dGVuZHMgQWJzdHJhY3RDb3VudGVyIHtcbiAgY29uc3RydWN0b3IoamF2YXNjcmlwdE9iamVjdE5hbWUsIHBhcmFtcykge1xuICAgIHN1cGVyKGphdmFzY3JpcHRPYmplY3ROYW1lLCBwYXJhbXMpO1xuICB9XG5cbiAgdHJhY2socGFyYW1zKSB7XG4gICAgaWYgKHR5cGVvZihwYXJhbXMuZ29hbCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBJbnRlbnRBbmFseXRpY3MubG9nRXJyb3IoJ05vIGdvYWwgc3VwcGxpZWQgZm9yIFlhbmRleE1ldHJpa2EudHJhY2s6ICcgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb3VudGVyLnJlYWNoR29hbChcbiAgICAgIHBhcmFtcy5nb2FsLFxuICAgICAgcGFyYW1zLnBhcmFtcyB8fCB7fVxuICAgICk7XG4gIH1cblxuICBzZW5kVmFyaWFibGVzKHZhcmlhYmxlcykge1xuICAgIHRoaXMuY291bnRlci5wYXJhbXModmFyaWFibGVzKTtcbiAgfVxufVxuXG5leHBvcnQge1lhbmRleE1ldHJpa2F9O1xuIiwiaW1wb3J0IHtFdmVudEludGVyZmFjZX0gZnJvbSAnLi9FdmVudEludGVyZmFjZSc7XG5pbXBvcnQge1RZUEVfR0EsIFRZUEVfWUEsIFRZUEVfUEl9IGZyb20gJy4uL2NvdW50ZXJzL0NvdW50ZXJJbnRlcmZhY2UnO1xuXG5jbGFzcyBDbGljayBleHRlbmRzIEV2ZW50SW50ZXJmYWNlIHtcbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuaW5pdChvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc2VsZWN0b3JzJykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5zZWxlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcSA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuc2VsZWN0b3JzW2ldKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcS5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcVtpaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHRoaXMuZXZlbnRIYW5kbGVyKGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlclxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIGV2ZW50SGFuZGxlcihldmVudCkge1xuICAgICAgICB0aGlzLnNlbmREYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHRyaWdnZXIocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyLnRyaWdnZXIocGFyYW1zKTtcbiAgICAgICAgdGhpcy5zZW5kRGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgc2VuZERhdGEoKSB7XG4gICAgICAgIGZvciAobGV0IGNvdW50ZXIgb2YgdGhpcy5sb2NhdG9yLmNvdW50ZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoVFlQRV9HQSA9PSBjb3VudGVyLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dbY291bnRlci5qc09iamVjdF0oJ3NlbmQnLCAnZXZlbnQnLCAnQWN0aW9uJywgJ2NsaWNrJywgJ0NsaWNrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7Q2xpY2t9O1xuIiwiY2xhc3MgRXZlbnRJbnRlcmZhY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBsb2NhdG9yIFVuaW9uQW5hbHl0aWNzXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihsb2NhdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9jYXRvciA9IGxvY2F0b3I7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHRyaWdnZXIocGFyYW1zKSB7XG4gICAgfVxufVxuXG5leHBvcnQge0V2ZW50SW50ZXJmYWNlfTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
